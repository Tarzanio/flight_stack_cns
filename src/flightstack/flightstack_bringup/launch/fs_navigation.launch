<?xml version="1.0" encoding="UTF-8"?>
<launch>
  <arg name="dev_id"        default="1" />
  <arg name="use_gps"       default="false" />
  <arg name="use_vision"    default="false" />

  <!-- Mission Sequencer Args -->
  <arg name="threshold_position"    default="0.3" />
  <arg name="threshold_yaw"         default="0.1" />

  <!-- mission sequencer flags -->
  <arg name="automatic_sequencing"    default="False" /> <!-- if 'True', this parameter overwrites the auto land and disarm function -->
  <arg name="automatic_landing"       default="False" />
  <arg name="automatic_disarming"     default="False" />
  <arg name="relative_waypoints"      default="True" />
  <arg name="waypoint_from_file"      default="False" />
  <arg name="verbose"                 default="True" />

  <!-- waypoint boundaries -->
  <!-- <arg name="wp_max"                         default="[2.0, 4.5, 1.5]"/>
  <arg name="wp_min"                         default="[-2.0, -3.5, 0.0]"/>
  <arg name="boundary_reference"             default="LOCAL" /> -->
  <!-- <arg name="wp_max"                         default="[4.0, 2.0, 1.5]"/>
  <arg name="wp_min"                         default="[-3.0, -2.0, -0.0]"/>
  <arg name="boundary_reference"             default="LOCAL" /> -->
  <!-- <arg name="wp_max"                         default="[10.0, 10, 2.0]"/>
  <arg name="wp_min"                         default="[-10.0, -10, -1.0]"/> -->
  <arg name="wp_max"                         default="[150.0, 50, 6.0]"/>
  <arg name="wp_min"                         default="[-60.0, -60, -1.0]"/>
  <arg name="boundary_reference"             default="LOCAL" />

  <group if="$(eval arg('dev_id') == 1)">
    <!-- <node pkg="amaze_mission_sequencer" type="amaze_mission_sequencer_node" name="amaze_mission_sequencer" output="screen" clear_params="true" required="true">
    </node> -->
    <include file="$(find mission_sequencer)/launch/mission_sequencer.launch">
        <arg name="use_odom"                value="True" />

        <arg name="threshold_position"      value="$(arg threshold_position)" />
        <arg name="threshold_yaw"           value="$(arg threshold_yaw)" />

        <arg name="automatic_sequencing"    value="$(arg automatic_sequencing)" /> <!-- if 'True', this parameter overwrites the auto land and disarm function -->
        <arg name="automatic_landing"       value="$(arg automatic_landing)" />
        <arg name="automatic_disarming"     value="$(arg automatic_disarming)" />
        <arg name="relative_waypoints"      value="$(arg relative_waypoints)" />
        <arg name="waypoint_from_file"      value="$(arg waypoint_from_file)" />
        <arg name="verbose"                 value="$(arg verbose)" />

        <arg name="bound_max"               value="$(arg wp_max)" />
        <arg name="bound_min"               value="$(arg wp_min)" />
        <arg name="boundary_reference"      value="$(arg boundary_reference)" />

        <!-- <arg name="topic_odom_in"           value="/mars_pose_node/odom_state_out" /> -->
        <arg name="topic_odom_in"           value="/mars_dualpose_node/odom_state_out" if="$(arg use_gps)"/>
        <arg name="topic_odom_in"           value="/mars_gps_vision_node/odom_state_out" if="$(arg use_vision)"/>
    </include>
  </group>
</launch>
